server {
    # Listen on the port Fly.io expects
    listen 8080;

    # This will match any request coming to this server
    server_name _;

    # This is the magic line that redirects EVERYTHING.
    # It sends a "301 Moved Permanently" status code.
    # $request_uri preserves the path and query parameters from the original request.

    # Using your correct new Firebase URL
    return 301 https://tactile-ripsaw-474418-j1.web.app$request_uri;
}
