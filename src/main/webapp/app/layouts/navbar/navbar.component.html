<!-- =================== Navbar =================== -->
<nav class="navbar navbar-expand-lg navbar-light w-100 sticky-top" [ngClass]="{ scrolled: navbarScrolled || !isLandingPage() }">
  <div class="container">
    <a class="navbar-brand fw-bold" routerLink="/">ZORAN STEPANOSKI</a>
    <button class="navbar-toggler" type="button" (click)="toggleNavbar()" [attr.aria-expanded]="!isNavbarCollapsed()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" [ngbCollapse]="isNavbarCollapsed()">
      <!-- 1. MAIN NAVIGATION (LEFT) -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a
            class="nav-link"
            (click)="scrollToSection('home')"
            [class.active]="isLandingPage() && activeSection() === 'home'"
            jhiTranslate="landing.navHome">
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            (click)="scrollToSection('about')"
            [class.active]="isLandingPage() && activeSection() === 'about'"
            jhiTranslate="landing.navAbout">
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            (click)="scrollToSection('services')"
            [class.active]="isLandingPage() && activeSection() === 'services'"
            jhiTranslate="landing.navServices">
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            (click)="scrollToSection('projects')"
            [class.active]="isLandingPage() && activeSection() === 'projects'"
            jhiTranslate="landing.navProject">
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            (click)="scrollToSection('cv')"
            [class.active]="isLandingPage() && activeSection() === 'cv'"
            jhiTranslate="landing.navCV">
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/blog" routerLinkActive="active" (click)="collapseNavbar()">
            {{ 'landing.navBlog' | translate }}
          </a>
        </li>
        <li class="nav-item btn-contact-nav">
          <a class="nav-link" (click)="scrollToSection('contact')">
            {{ 'landing.navContact' | translate }}
          </a>
        </li>
      </ul>

      <!-- 2. JHIPSTER MENUS (RIGHT) -->
      <ul class="navbar-nav">
        <ng-container *ngIf="isAdminEnv">
          <!-- Entities Menu -->
          <li ngbDropdown class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" ngbDropdownToggle id="entity-menu" data-cy="entity">
              <fa-icon icon="th-list"></fa-icon>
              <span jhiTranslate="global.menu.entities.main"></span>
            </a>
            <ul class="dropdown-menu" ngbDropdownMenu aria-labelledby="entity-menu">
              <li>
                <a class="dropdown-item" routerLink="/project" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.project"></span>
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/project-media" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.projectImage"></span>
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/skill" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.skill"></span>
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/business-service" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.businessService"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/business-service-media"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.businessServiceMedia"></span>
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/blog-post" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.blogPost"></span>
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/contact-message" (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.contactMessage"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/about-me"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.aboutMe"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/about-me-media"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.aboutMeMedia"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/curriculum-vitae"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.curriculumVitae"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/curriculum-vitae-media"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.curriculumVitaeMedia"></span>
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item"
                  routerLink="/visitor-log"
                  routerLinkActive="active"
                  [routerLinkActiveOptions]="{ exact: true }"
                  (click)="collapseNavbar()">
                  <fa-icon icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.entities.visitorLog"></span>
                </a>
              </li>
              <!-- jhipster-needle-add-entity-to-menu - JHipster will add entities to the menu here -->
            </ul>
          </li>

          <!-- Administration Menu -->
          <li ngbDropdown class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" ngbDropdownToggle id="admin-menu" data-cy="adminMenu">
              <fa-icon icon="users-cog"></fa-icon>
              <span jhiTranslate="global.menu.admin.main"></span>
            </a>
            <ul class="dropdown-menu" ngbDropdownMenu aria-labelledby="admin-menu">
              <!-- User Management Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/user-management" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="users" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.userManagement">User management</span>
                </a>
              </li>
              <!-- Visitor Stats Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/visitor-stats" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="chart-bar" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.visitorStats">Visitor Stats</span>
                </a>
              </li>
              <!-- Metrics Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/metrics" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="tachometer-alt" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.metrics">Metrics</span>
                </a>
              </li>
              <!-- Health Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/health" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="heart" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.health">Health</span>
                </a>
              </li>
              <!-- Configuration Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/configuration" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="cogs" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.configuration">Configuration</span>
                </a>
              </li>
              <!-- Logs Link -->
              <li>
                <a class="dropdown-item" routerLink="admin/logs" routerLinkActive="active" (click)="collapseNavbar()">
                  <fa-icon icon="tasks" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.admin.logs">Logs</span>
                </a>
              </li>
            </ul>
          </li>

          <!-- Account Menu -->
          <li ngbDropdown class="nav-item dropdown" display="dynamic" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
            <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="account-menu" data-cy="accountMenu">
              <span *ngIf="!account()">
                <fa-icon icon="user"></fa-icon>
                <span jhiTranslate="global.menu.account.main"></span>
              </span>
              <span *ngIf="account()">
                <fa-icon icon="user"></fa-icon>
                <span>{{ account()!.login }}</span>
              </span>
            </a>
            <ul class="dropdown-menu" ngbDropdownMenu aria-labelledby="account-menu">
              <li *ngIf="account()">
                <a class="dropdown-item" (click)="logout()" id="logout" data-cy="logout">
                  <fa-icon icon="sign-out-alt" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.account.logout"></span>
                </a>
              </li>
              <li *ngIf="!account()">
                <a class="dropdown-item" (click)="login()" id="login" data-cy="login">
                  <fa-icon icon="sign-in-alt" [fixedWidth]="true"></fa-icon>
                  <span jhiTranslate="global.menu.account.login"></span>
                </a>
              </li>
            </ul>
          </li>
        </ng-container>
        <li class="nav-item" ngbDropdown>
          <a class="nav-link dropdown-toggle" href="javascript:void(0);" id="navbarDropdownLanguage" ngbDropdownToggle>
            <span [class]="currentFlagClass"></span>
          </a>
          <ul class="dropdown-menu" ngbDropdownMenu aria-labelledby="navbarDropdownLanguage">
            <li>
              <a class="dropdown-item" href="javascript:void(0);" (click)="changeLanguage('en')">
                <span class="fi fi-gb me-2"></span>
                English
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="javascript:void(0);" (click)="changeLanguage('sr')">
                <span class="fi fi-rs me-2"></span>
                Srpski
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
