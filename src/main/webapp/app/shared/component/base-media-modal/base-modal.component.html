<div class="modal-header border-0">
  <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
  <div class="modal-title-container">
    <h2 class="modal-title mb-0">
      <ng-container *ngIf="title; else defaultTitle">
        {{ title }}
      </ng-container>
      <ng-template #defaultTitle>
        <span jhiTranslate="global.menu.entities.main"></span>
      </ng-template>
    </h2>
  </div>
</div>

<div class="modal-body d-flex flex-column">
  <div class="columns-wrapper">
    <!-- Left Column: Media -->
    <div class="media-column" (wheel)="onMediaWheel($event)">
      <div class="media-container" #mediaContainer>
        <ng-container *ngIf="mediaUrls && mediaUrls.length > 0">
          <div
            *ngFor="let media of mediaUrls; let i = index"
            class="media-slide"
            [class.active]="i === currentMediaIndex"
            [class.previous]="hasMultipleMedia && (i === currentMediaIndex - 1 || (currentMediaIndex === 0 && i === mediaUrls.length - 1))"
            [class.next]="hasMultipleMedia && (i === currentMediaIndex + 1 || (currentMediaIndex === mediaUrls.length - 1 && i === 0))">
            <img
              *ngIf="getMediaType(media.url) === 'IMAGE'"
              [src]="getFullMediaPath(media.url, defaultMedia)"
              alt="Media"
              class="img-fluid rounded project-media-clickable"
              (click)="openFullscreenMedia()"/>
            <video
              *ngIf="getMediaType(media.url) === 'VIDEO'"
              [src]="getFullMediaPath(media.url)"
              class="img-fluid rounded project-media-clickable"
              muted
              loop
              controls
              playsinline
              (click)="openFullscreenMedia()"
            ></video>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Right Column: About Text -->
    <div class="details-column" style="overflow-y: auto; max-height: 70vh;">
      <div class="modal-details-content">
        <div class="modal-description" [innerHTML]="sanitizedContent"></div>
      </div>
    </div>
  </div>

  <div class="media-header d-flex justify-content-between align-items-center">
    <div class="media-title-caption" *ngIf="currentMediaCaption">
      {{ currentMediaCaption }}
    </div>

    <!-- Media Navigation -->
    <div class="media-navigation">
      <!--    <div class="media-navigation" *ngIf="hasMultipleMedia">-->
      <button class="btn btn-link nav-button" (click)="switchMedia(currentMediaIndex - 1)">
        <fa-icon icon="chevron-left"></fa-icon>
      </button>
      <span class="mx-2">{{ currentMediaIndex + 1 }} / {{ mediaUrls.length }}</span>
      <button class="btn btn-link nav-button" (click)="switchMedia(currentMediaIndex + 1)">
        <fa-icon icon="chevron-right"></fa-icon>
      </button>
    </div>
  </div>
</div>
